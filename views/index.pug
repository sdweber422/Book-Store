mixin booklist
  table
    thead
      tr
        th
        th Title
        th Description
        th Authors
        th Genres
    tbody
      for book in books
        tr
          td
            a(href=`/${book.id}`)
              img(src=(book.image_url || 'http://williamwoods.ecampus.com/Content/img/book_stack.png'))
          td
            a(href=`/${book.id}`)= book.title
          td= (book.description || 'Description not available.')
          td
            ul
              for author in book.authors
                li= author.name
          td
            ul
              -genreNames = book.genres.map( genre => genre.name )
              -genreNames = genreNames.filter( (element,index,array) => !array.slice(0,index).includes(element) )
              for genreName in genreNames
                li= genreName

  
doctype html
html
  head
    title Book Store
  body
    ul
      li
        a(href="/") Home
      li
        a(href="/admin") Admin
      li Search
        input(placeholder="book or author")
        button &#9906;

    block content
